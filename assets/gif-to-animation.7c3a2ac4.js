import{p as n}from"./phaser.6acf4b60.js";import{_ as h}from"./index.6f6f166c.js";import{r as i,e as l,f as c,t as d,y as p,z as u}from"./@vue.53d8baf6.js";import"./vue-router.8fba5e93.js";import"./vant.a06d8c33.js";import"./@vant.18d5f034.js";class f extends Phaser.Scene{constructor(e,t){super();this.width=e,this.height=t,this.center={x:this.width/2,y:this.height/2},this.data={}}init(){this.data={r:-.05,s:-.0012,sx:.25,x:400,y:100}}preload(){const e=new URL("./assets/sao0.b6282d2b.png",self.location).href,t=new URL("./assets/sao0.e66dab13.json",self.location).href,s=new URL("./assets/sao1.bd88eca5.png",self.location).href,a=new URL("./assets/sao1.2cdc52b6.json",self.location).href;this.load.atlas("sao0",e,t),this.load.atlas("sao1",s,a)}create(){var e=[];const t=[0,1,4,7,8,9,10,11,16,17,18,19,23,24,25,26,30,31,32,33,38,39,40,45,46,47,48];for(let s=0;s<=50;s++)t.indexOf(s)>-1?e.push({key:"sao0",frame:s.toString()}):e.push({key:"sao1",frame:s.toString()});this.anims.create({key:"swish",frames:e,repeat:-1}),this.group=this.add.group(),this.group.createMultiple({key:"sao",repeat:10,setXY:{x:this.center.x,y:this.center.y},setAlpha:{value:0,step:.05}}),this.group.playAnimation("swish"),this.tweens.add({targets:this.data,duration:3e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,props:{r:{value:.05},s:{value:.0012},sx:{value:2.5},y:{value:400,duration:4e3}}})}update(){let e=this.group.getChildren();Phaser.Actions.Rotate(e,this.data.r,this.data.s),Phaser.Actions.SetScale(e,this.data.sx,this.data.sx,this.data.s,this.data.s),Phaser.Actions.SetXY(e,this.data.x,this.data.y,this.data.s,this.data.s)}}const v={setup(r){let e=i(null),t=i(null),s;return l(()=>{let a=new f(t.value.clientWidth,t.value.clientHeight),o={type:n.exports.AUTO,width:t.value.clientWidth,height:t.value.clientHeight,parent:e.value,backgroundColor:"#2d2d2d",scene:[a]};s=new n.exports.Game(o)}),c(()=>{for(let a in s.scene.keys)s.scene.keys.hasOwnProperty(a)&&(s.scene.stop(a),s.scene.keys[a]=void 0)}),(a,o)=>(d(),p("div",{class:"canvas_box",ref_key:"canvasBox",ref:t},[u("div",{ref_key:"myCanvas",ref:e},null,512)],512))}};var w=h(v,[["__scopeId","data-v-22b7e4e7"]]);export{w as default};
